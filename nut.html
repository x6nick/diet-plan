<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nutrition Guide — Smart & Simple</title>
  <meta name="description" content="Responsive nutrition guide with macro calculator, sample meal plans, grocery list and tips." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1724;
      --card:#111827;
      --muted:#94a3b8;
      --accent:#06b6d4;
      --glass: rgba(255,255,255,0.04);
      --success:#10b981;
      --danger:#ef4444;
      --radius:14px;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: linear-gradient(180deg,var(--bg),#071024 120%);
      color:#e6eef6;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      padding:28px;
    }
    .container{max-width:1100px;margin:0 auto}

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;font-weight:700}
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .grid{display:grid;grid-template-columns:1fr 360px;gap:20px}

    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:var(--radius);padding:18px;box-shadow:0 6px 18px rgba(2,6,23,0.6);}
    .card h2{margin:0 0 8px 0}
    .small{font-size:13px;color:var(--muted)}

    /* Hero area */
    .hero-top{display:flex;gap:12px;align-items:center}
    .hero-stats{display:flex;gap:10px;margin-top:12px}
    .stat{background:var(--glass);padding:10px;border-radius:10px;min-width:110px;text-align:center}
    .stat strong{display:block;font-size:18px}

    /* sections */
    section{margin-bottom:18px}

    /* Macro calculator */
    label{display:block;font-size:13px;margin-bottom:6px}
    input[type=text],input[type=number],select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
    .row{display:flex;gap:10px}
    .row > *{flex:1}
    button.btn{background:linear-gradient(90deg,var(--accent),#7c3aed);border:none;padding:10px 14px;border-radius:10px;color:#001;cursor:pointer;font-weight:600}
    .muted{color:var(--muted)}

    /* Meal plans */
    .meals{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .meal{padding:12px;border-radius:10px;background:rgba(255,255,255,0.02)}
    .tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
    .tag{padding:6px 8px;border-radius:999px;font-size:12px;background:rgba(255,255,255,0.03)}

    /* Grocery list */
    ul.grocery{margin:0;padding-left:18px}

    /* Tips */
    .tips{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    .tip{padding:10px;border-radius:10px;background:rgba(255,255,255,0.02)}

    /* Responsive */
    @media (max-width:980px){
      .grid{grid-template-columns:1fr;}
      .meals{grid-template-columns:1fr}
      .tips{grid-template-columns:1fr}
    }

    footer{margin-top:22px;text-align:center;color:var(--muted);font-size:13px}

    /* Print-friendly */
    @media print{
      body{background:#fff;color:#000}
      .card{box-shadow:none;background:transparent}
      button, input, select{display:none}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">NG</div>
        <div>
          <h1>Nutrition Guide — Smart & Simple</h1>
          <p class="lead">Daily plates, macro calculator, meal plan samples and a grocery list generator.</p>
        </div>
      </div>
      <div class="hero-top">
        <div class="small">Theme</div>
        <button class="btn" id="printBtn">Print Guide</button>
      </div>
    </header>

    <div class="grid">
      <main>
        <div class="card" aria-labelledby="calc-title">
          <h2 id="calc-title">Macro & Calorie Calculator</h2>
          <p class="small">Estimate daily calories and macro split (protein / carbs / fat).</p>
          <form id="calcForm" onsubmit="return false;">
            <div style="margin-top:12px;">
              <label for="age">Age</label>
              <input id="age" type="number" value="30" min="10" max="120">
            </div>
            <div class="row" style="margin-top:10px;">
              <div>
                <label for="sex">Sex</label>
                <select id="sex"><option value="male">Male</option><option value="female">Female</option></select>
              </div>
              <div>
                <label for="activity">Activity</label>
                <select id="activity">
                  <option value="1.2">Sedentary</option>
                  <option value="1.375">Lightly active</option>
                  <option value="1.55">Moderately active</option>
                  <option value="1.725">Very active</option>
                  <option value="1.9">Extra active</option>
                </select>
              </div>
            </div>

            <div class="row" style="margin-top:10px;">
              <div>
                <label for="weight">Weight (kg)</label>
                <input id="weight" type="number" value="70" min="20" max="400">
              </div>
              <div>
                <label for="height">Height (cm)</label>
                <input id="height" type="number" value="175" min="100" max="260">
              </div>
            </div>

            <div style="margin-top:10px;">
              <label for="goal">Goal</label>
              <select id="goal">
                <option value="maintain">Maintain weight</option>
                <option value="mild_loss">Mild weight loss (-300 kcal)</option>
                <option value="loss">Weight loss (-500 kcal)</option>
                <option value="gain">Weight gain (+300 kcal)</option>
              </select>
            </div>

            <div style="margin-top:10px;">
              <label>Macro split (percent)</label>
              <div class="row">
                <input id="proteinPct" type="number" value="30" min="5" max="70">
                <input id="carbPct" type="number" value="45" min="5" max="90">
                <input id="fatPct" type="number" value="25" min="5" max="70">
              </div>
              <div class="small" style="margin-top:6px">Protein / Carbs / Fat — must sum close to 100%</div>
            </div>

            <div style="margin-top:12px;display:flex;gap:8px;align-items:center;">
              <button class="btn" id="calcBtn">Calculate</button>
              <div class="small" id="calcMsg" aria-live="polite"></div>
            </div>
          </form>

          <div id="results" style="margin-top:12px;display:none">
            <div class="stat"><strong id="calories">-</strong><span class="small">Calories/day</span></div>
            <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
              <div class="stat"><strong id="protGr">-</strong><span class="small">Protein (g)</span></div>
              <div class="stat"><strong id="carbGr">-</strong><span class="small">Carbs (g)</span></div>
              <div class="stat"><strong id="fatGr">-</strong><span class="small">Fat (g)</span></div>
            </div>
          </div>
        </div>

        <section class="card" aria-labelledby="meals-title" style="margin-top:16px">
          <h2 id="meals-title">Sample Meal Plans</h2>
          <p class="small">Templates you can adjust. Click a plan to add its items to your grocery list.</p>
          <div class="meals" id="meals">
            <!-- Plans injected by JS -->
          </div>
        </section>

        <section class="card" aria-labelledby="tips-title" style="margin-top:16px">
          <h2 id="tips-title">Quick Nutrition Tips</h2>
          <div class="tips" id="tips">
            <div class="tip"><strong>Protein first</strong><div class="small">Prioritise a source at every meal to support muscle and satiety.</div></div>
            <div class="tip"><strong>Veggies</strong><div class="small">Fill half your plate with vegetables or salad.</div></div>
            <div class="tip"><strong>Hydration</strong><div class="small">Drink water before and during meals.</div></div>
            <div class="tip"><strong>Whole foods</strong><div class="small">Choose whole grains, legumes, nuts and seeds over ultra-processed items.</div></div>
            <div class="tip"><strong>Plan ahead</strong><div class="small">A short weekly grocery list prevents poor last-minute choices.</div></div>
            <div class="tip"><strong>Sleep</strong><div class="small">Quality sleep supports appetite and recovery.</div></div>
          </div>
        </section>

      </main>

      <aside>
        <div class="card">
          <h2>Grocery List</h2>
          <p class="small">Add sample meals to populate the list, then edit or print.</p>
          <ul id="grocery" class="grocery" aria-live="polite"></ul>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button class="btn" id="clearList">Clear</button>
            <button class="btn" id="downloadList">Download</button>
          </div>
        </div>

        <div class="card" style="margin-top:16px">
          <h2>Daily Plate Visual</h2>
          <p class="small">A simple balanced plate — adjust portions based on your calculated calories.</p>
          <div style="margin-top:10px;display:grid;grid-template-columns:1fr;gap:8px">
            <div class="stat"><strong id="plateProtein">Protein</strong><span class="small">25-35%</span></div>
            <div class="stat"><strong id="plateCarbs">Carbs</strong><span class="small">40-50%</span></div>
            <div class="stat"><strong id="plateVeg">Veggies & Fats</strong><span class="small">25-35%</span></div>
          </div>
        </div>

        <div class="card" style="margin-top:16px">
          <h2>About</h2>
          <p class="small">This guide is educational — for personalised medical or clinical nutrition advice consult a registered dietitian or physician.</p>
        </div>
      </aside>
    </div>

    
  </div>

  <script>
    // ---------- Sample data ----------
    const samplePlans = [
      {
        id:'balanced',
        title:'Balanced (Maintenance)',
        items:['Oats','Greek yogurt','Mixed berries','Chicken breast','Brown rice','Broccoli','Olive oil','Apple']
      },
      {
        id:'high-protein',
        title:'High-protein (Muscle gain)',
        items:['Eggs','Cottage cheese','Banana','Lean beef','Sweet potato','Spinach','Almonds']
      },
      {
        id:'plant-based',
        title:'Plant-based (Veg)',
        items:['Tofu','Quinoa','Lentils','Kale','Hummus','Avocado','Whole wheat bread']
      },
      {
        id:'calorie-cut',
        title:'Lower-calorie (Cut)',
        items:['Egg whites','Greek yogurt','Salmon','Mixed salad','Cauliflower rice','Berries']
      }
    ];

    // render meal cards
    const mealsEl = document.getElementById('meals');
    samplePlans.forEach(plan=>{
      const div = document.createElement('div'); div.className='meal';
      div.innerHTML = `<strong>${plan.title}</strong><div class="small">Click to add to grocery list</div><div class="tags">${plan.items.slice(0,6).map(i=>`<span class="tag">${i}</span>`).join('')}</div>`;
      div.tabIndex = 0;
      div.style.cursor = 'pointer';
      div.addEventListener('click',()=>addItems(plan.items));
      div.addEventListener('keydown', e => { if(e.key==='Enter') addItems(plan.items)});
      mealsEl.appendChild(div);
    });

    // Grocery list management
    const groceryEl = document.getElementById('grocery');
    let grocerySet = new Set();

    function addItems(items){
      items.forEach(i=>grocerySet.add(i));
      renderGrocery();
    }
    function renderGrocery(){
      groceryEl.innerHTML='';
      if(grocerySet.size===0){
        const li = document.createElement('li'); li.className='small'; li.textContent='(No items yet)'; groceryEl.appendChild(li); return;
      }
      [...grocerySet].sort().forEach(it=>{
        const li = document.createElement('li');
        li.textContent = it;
        li.style.cursor='pointer';
        li.title='Click to remove';
        li.addEventListener('click',()=>{grocerySet.delete(it);renderGrocery();});
        groceryEl.appendChild(li);
      });
    }
    document.getElementById('clearList').addEventListener('click',()=>{grocerySet.clear();renderGrocery();});

    document.getElementById('downloadList').addEventListener('click', ()=>{
      if(grocerySet.size===0) return alert('No items to download');
      const blob = new Blob([[...grocerySet].sort().join('\n')],{type:'text/plain'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'grocery-list.txt'; a.click(); URL.revokeObjectURL(url);
    });

    // Print
    document.getElementById('printBtn').addEventListener('click', ()=>window.print());

    // Macro calculator logic (Mifflin-St Jeor)
    function calculate(){
      const age = Number(document.getElementById('age').value)||30;
      const sex = document.getElementById('sex').value;
      const weight = Number(document.getElementById('weight').value)||70; // kg
      const height = Number(document.getElementById('height').value)||170; // cm
      const activity = Number(document.getElementById('activity').value)||1.55;
      const goal = document.getElementById('goal').value;
      const p = Number(document.getElementById('proteinPct').value)||30;
      const c = Number(document.getElementById('carbPct').value)||45;
      const f = Number(document.getElementById('fatPct').value)||25;

      // sanity check sums
      const sum = p + c + f;
      const msg = document.getElementById('calcMsg');
      if(Math.abs(sum-100) > 8){
        msg.textContent = 'Macro percents should sum to ~100% (adjusted automatically)';
      } else msg.textContent='';

      // BMR
      let bmr;
      if(sex==='male') bmr = (10*weight) + (6.25*height) - (5*age) + 5;
      else bmr = (10*weight) + (6.25*height) - (5*age) - 161;

      let calories = Math.round(bmr * activity);
      if(goal==='mild_loss') calories -= 300;
      if(goal==='loss') calories -= 500;
      if(goal==='gain') calories += 300;
      if(calories < 1200) calories = 1200; // floor for sanity

      // adjust to 100 if not
      const factor = 100 / (p+c+f);
      const p2 = p * factor; const c2 = c * factor; const f2 = f * factor;

      const proteinGr = Math.round((calories * (p2/100)) / 4);
      const carbGr = Math.round((calories * (c2/100)) / 4);
      const fatGr = Math.round((calories * (f2/100)) / 9);

      // show results
      document.getElementById('calories').textContent = calories + ' kcal';
      document.getElementById('protGr').textContent = proteinGr + ' g';
      document.getElementById('carbGr').textContent = carbGr + ' g';
      document.getElementById('fatGr').textContent = fatGr + ' g';
      document.getElementById('results').style.display = 'block';

      // Update plate visual roughly
      document.getElementById('plateProtein').textContent = `Protein — ${Math.round(p2)}%`;
      document.getElementById('plateCarbs').textContent = `Carbs — ${Math.round(c2)}%`;
      document.getElementById('plateVeg').textContent = `Veg & Fat — ${Math.round(f2)}%`;
    }

    document.getElementById('calcBtn').addEventListener('click', calculate);

    // initial render
    renderGrocery();

    // keyboard accessibility: focus styles
    document.addEventListener('keyup', (e)=>{
      if(e.key==='/' && document.activeElement.tagName !== 'INPUT'){
        e.preventDefault(); document.getElementById('weight').focus();
      }
    });

    // small handy helper: store grocery in localStorage
    window.addEventListener('beforeunload', ()=>{
      try{ localStorage.setItem('ng_grocery', JSON.stringify([...grocerySet])); }catch(e){}
    });
    window.addEventListener('load', ()=>{
      try{ const s = JSON.parse(localStorage.getItem('ng_grocery')||'[]'); s.forEach(i=>grocerySet.add(i)); renderGrocery(); }catch(e){}
    });
  </script>
</body>
</html>